{"ast":null,"code":"var _jsxFileName = \"/Users/cenkkaraboa/Desktop/son/web/src/components/common/CalisanKaydet.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { get, post, postImage } from '../requests/Request';\nimport * as toast from '../utilities/Toast';\nimport * as urlConfig from '../requests/urlconfigs';\nimport DropdownMultiselect from \"react-multiselect-dropdown-bootstrap\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CalisanKaydet = () => {\n  _s();\n\n  const useStyles = makeStyles(theme => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1)\n      }\n    }\n  }));\n  const classes = useStyles();\n  const [data, setData] = useState({});\n  const [cameraOptionData, setCameraOptionData] = useState({\n    isLoading: true,\n    data: null\n  });\n  const [birimAdiOptions, setBirimAdiOptions] = useState({\n    isLoading: true,\n    data: null\n  });\n  const [tableData, setTableData] = useState({\n    isLoading: true,\n    data: []\n  });\n\n  const onChange = event => {\n    let e = event.target;\n    setData({ ...data,\n      [e.name]: e.value\n    });\n    console.log(data);\n  };\n\n  const getSelectValue = e => {\n    setData({ ...data,\n      cameraPaths: e\n    });\n  };\n\n  useEffect(() => {\n    if (cameraOptionData.isLoading) {\n      getCameraOptions();\n    }\n\n    if (birimAdiOptions.isLoading) {\n      getBirimAdiOptions();\n    }\n  });\n\n  const calisanlariGetir = () => {\n    var request = get(urlConfig.SERVICE_URL + \"/api/yonetim/calisanlar\");\n    request.then(data => {\n      if (data.success) {\n        const formattedMessages = data.data.map(option => {\n          return {\n            calisanId: option.calisanId,\n            ad: option.ad,\n            soyad: option.soyad,\n            birimAdi: option.birimAdi\n          };\n        });\n        console.log(formattedMessages);\n        setTableData({\n          isLoading: false,\n          data: formattedMessages\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    calisanlariGetir();\n  }, tableData);\n\n  const getCameraOptions = () => {\n    var request = get(urlConfig.SERVICE_URL + \"/api/yonetim/kameralar\");\n    request.then(data => {\n      if (data.success) {\n        const formattedMessages = data.data.map(option => {\n          return {\n            key: option.key,\n            label: option.value\n          };\n        });\n        console.log(formattedMessages);\n        setCameraOptionData({\n          isLoading: false,\n          data: formattedMessages\n        });\n      }\n    });\n  };\n\n  const getBirimAdiOptions = () => {\n    var request = get(urlConfig.SERVICE_URL + \"/api/yonetim/birimler\");\n    request.then(data => {\n      if (data.success) {\n        setBirimAdiOptions({\n          isLoading: false,\n          data: data.data\n        });\n      }\n    });\n  };\n\n  const submit = () => {\n    post(urlConfig.SERVICE_URL + \"/api/yonetim/calisanekle\", data).then(response => response.json()).then(data => {\n      if (data.success) {\n        toast.success(data.message);\n        calisanlariGetir();\n      } else {\n        toast.error(data.error);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mx-auto \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title\",\n          children: \"Yeni \\xC7al\\u0131\\u015Fan Kaydet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [cameraOptionData.isLoading && birimAdiOptions.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Fetching options...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 81\n        }, this), !cameraOptionData.isLoading && !birimAdiOptions.isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.root,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            onChange: onChange,\n            name: \"ad\",\n            fullWidth: true,\n            helperText: \"Ad girin\",\n            id: \"outlined-basic\",\n            label: \"Ad\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            onChange: onChange,\n            name: \"soyad\",\n            fullWidth: true,\n            helperText: \"Soyad girin\",\n            id: \"outlined-basic\",\n            label: \"Soyad\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            variant: \"outlined\",\n            className: classes.formControl,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"demo-simple-select-outlined-label\",\n              children: \"Birim Ad\\u0131n\\u0131 Se\\xE7in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"demo-simple-select-outlined-label\",\n              id: \"demo-simple-select-outlined\",\n              label: \"Age\",\n              name: \"birimId\",\n              onChange: onChange,\n              children: birimAdiOptions.data.map(option => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: option.key,\n                children: option.value\n              }, option.key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(DropdownMultiselect, {\n            options: cameraOptionData.data,\n            handleOnChange: getSelectValue,\n            name: \"cameraPaths\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submit,\n          type: \"button\",\n          className: \"btn btn-primary mx-auto\",\n          children: \"Kaydet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), tableData.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Ziyaret\\xE7iler \\xE7ekiliyor...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 37\n    }, this), !tableData.isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          className: classes.table,\n          \"aria-label\": \"simple table\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Ad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Soyad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Birim Ad\\u0131\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: tableData.data.map(data => /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                component: \"th\",\n                scope: \"row\",\n                children: data.calisanId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: data.ad\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: data.soyad\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: data.birimAdi\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 41\n              }, this)]\n            }, data.calisanId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CalisanKaydet, \"1WyIp877qBlaNOnkKYM/kxvtRvU=\", true);\n\n_c = CalisanKaydet;\nexport default CalisanKaydet;\n\nvar _c;\n\n$RefreshReg$(_c, \"CalisanKaydet\");","map":{"version":3,"sources":["/Users/cenkkaraboa/Desktop/son/web/src/components/common/CalisanKaydet.js"],"names":["React","Component","useEffect","useState","makeStyles","TextField","FormHelperText","FormControl","Select","Input","MenuItem","InputLabel","get","post","postImage","toast","urlConfig","DropdownMultiselect","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","CalisanKaydet","useStyles","theme","root","margin","spacing","classes","data","setData","cameraOptionData","setCameraOptionData","isLoading","birimAdiOptions","setBirimAdiOptions","tableData","setTableData","onChange","event","e","target","name","value","console","log","getSelectValue","cameraPaths","getCameraOptions","getBirimAdiOptions","calisanlariGetir","request","SERVICE_URL","then","success","formattedMessages","map","option","calisanId","ad","soyad","birimAdi","key","label","submit","response","json","message","error","formControl","table"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { get, post, postImage } from '../requests/Request';\nimport * as toast from '../utilities/Toast';\nimport * as urlConfig from '../requests/urlconfigs';\nimport DropdownMultiselect from \"react-multiselect-dropdown-bootstrap\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst CalisanKaydet = () => {\n    const useStyles = makeStyles((theme) => ({\n        root: {\n            '& > *': {\n                margin: theme.spacing(1),\n\n            },\n        },\n    }));\n    const classes = useStyles();\n    const [data, setData] = useState({});\n    const [cameraOptionData, setCameraOptionData] = useState({\n        isLoading: true,\n        data: null\n    });\n    const [birimAdiOptions, setBirimAdiOptions] = useState({\n        isLoading: true,\n        data: null\n    });\n    const [tableData, setTableData] = useState({\n        isLoading: true,\n        data: []\n    });\n    const onChange = (event) => {\n        \n        let e = event.target;\n        setData({ ...data, [e.name]: e.value });\n        console.log(data);\n    }\n\n    const getSelectValue=(e)=>{\n        setData({...data,cameraPaths: e})\n    }\n\n    useEffect(() => {\n        if (cameraOptionData.isLoading) {\n            getCameraOptions();\n        }\n        if (birimAdiOptions.isLoading) {\n            getBirimAdiOptions();\n        }\n    });\n\n    const calisanlariGetir=()=>{\n        var request = get(urlConfig.SERVICE_URL + \"/api/yonetim/calisanlar\");\n        request.then(data => {\n            if (data.success) {\n                const formattedMessages = data.data.map((option) => {\n                    return {\n                        calisanId: option.calisanId,\n                        ad: option.ad,\n                        soyad: option.soyad,\n                        birimAdi: option.birimAdi\n                    };\n                });\n                console.log(formattedMessages);\n                setTableData({\n                    isLoading: false,\n                    data: formattedMessages\n                });\n            }\n        });\n    }\n\n    useEffect(()=>{\n        calisanlariGetir();\n    },tableData)\n\n    const getCameraOptions = () => {\n        var request = get(urlConfig.SERVICE_URL + \"/api/yonetim/kameralar\");\n        request.then(data => {\n            if (data.success) {\n                const formattedMessages = data.data.map((option) => {\n                    return {\n                        key: option.key,\n                        label: option.value\n                    };\n                });\n                console.log(formattedMessages);\n                setCameraOptionData({\n                    isLoading: false,\n                    data: formattedMessages\n                });\n            }\n        });\n    }\n\n    const getBirimAdiOptions = () => {\n        var request = get(urlConfig.SERVICE_URL + \"/api/yonetim/birimler\");\n        request.then(data => {\n            if (data.success) {\n                setBirimAdiOptions({\n                    isLoading: false,\n                    data: data.data\n                });\n            }\n        });\n    }\n\n    const submit=()=>{\n        post(urlConfig.SERVICE_URL+\"/api/yonetim/calisanekle\",data)\n        .then(response => response.json())\n        .then(data => {\n            if(data.success){\n                toast.success(data.message);\n                calisanlariGetir();\n            }\n            else{\n                toast.error(data.error);\n            }\n        });\n    }\n\n\n    return (\n        <div className=\"container content\">\n            <div className=\"card mx-auto \">\n                <div className=\"card-header text-center\">\n                    <h5 className=\"card-title\">\n                        Yeni Çalışan Kaydet\n                            </h5>\n                </div>\n                <div className=\"card-body\">\n                    {cameraOptionData.isLoading && birimAdiOptions.isLoading && <p>Fetching options...</p>}\n                    {!cameraOptionData.isLoading && !birimAdiOptions.isLoading && (\n                        <div className={classes.root}>\n                            <TextField onChange={onChange} name=\"ad\" fullWidth helperText=\"Ad girin\" id=\"outlined-basic\" label=\"Ad\" variant=\"outlined\" />\n                            <TextField onChange={onChange} name=\"soyad\" fullWidth helperText=\"Soyad girin\" id=\"outlined-basic\" label=\"Soyad\" variant=\"outlined\" />\n                            <FormControl fullWidth variant=\"outlined\" className={classes.formControl}>\n                                <InputLabel id=\"demo-simple-select-outlined-label\">Birim Adını Seçin</InputLabel>\n                                <Select\n                                    labelId=\"demo-simple-select-outlined-label\"\n                                    id=\"demo-simple-select-outlined\"\n                                    label=\"Age\"\n                                    name=\"birimId\"\n                                    onChange={onChange}\n                                >\n                                    {birimAdiOptions.data.map((option) => (\n                                        <MenuItem key={option.key} value={option.key}>{option.value}</MenuItem>\n                                    ))}\n\n                                </Select>\n                            </FormControl>\n                            \n                                <DropdownMultiselect\n                                    options={cameraOptionData.data}\n                                    handleOnChange={getSelectValue}\n                                    name=\"cameraPaths\"\n                                />\n                        </div>\n                    )}\n\n                </div>\n                <div className=\"card-footer\">\n                    <button onClick={submit} type=\"button\" className=\"btn btn-primary mx-auto\">Kaydet</button>\n                </div>\n            </div>\n            {tableData.isLoading && <p>Ziyaretçiler çekiliyor...</p>}\n            {!tableData.isLoading && (\n                <div className=\"mt-4\">\n                    <TableContainer component={Paper}>\n                        <Table className={classes.table} aria-label=\"simple table\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>#</TableCell>\n                                    <TableCell align=\"right\">Ad</TableCell>\n                                    <TableCell align=\"right\">Soyad</TableCell>\n                                    <TableCell align=\"right\">Birim Adı</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {tableData.data.map((data) => (\n                                    <TableRow key={data.calisanId}>\n                                        <TableCell component=\"th\" scope=\"row\">\n                                            {data.calisanId}\n                                        </TableCell>\n                                        <TableCell align=\"right\">{data.ad}</TableCell>\n                                        <TableCell align=\"right\">{data.soyad}</TableCell>\n                                        <TableCell align=\"right\">{data.birimAdi}</TableCell>\n                                    </TableRow>\n                                ))}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                </div>\n            )}\n        </div>\n    )\n}\nexport default CalisanKaydet;\n"]},"metadata":{},"sourceType":"module"}